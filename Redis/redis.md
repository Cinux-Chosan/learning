# [Redis 文档](https://redis.io/documentation)

## Using pipelining to speedup Redis queries

### 请求/响应 协议和 RTT

Redis 是一个 TCP 服务器， 采用 CS 模型（客户端-服务器），这就被称作 请求/响应 协议。

这意味着通常请求分两步完成：
- 客户端向服务器发起，通常以阻塞的方式从 socket 读取服务器响应。
- 服务器处理命令，并把结果返回给客户端。

客服端和服务器通过网络连接，网络环境可能波动很大，可能是环回接口（即使用本地环回地址，如 127.0.0.1），那么连接就很快，如果网络中途有很多路由，那么建立网络连接可能就很慢，不管网络环境如何，数据都要经历从客户端发出，再从服务端返回这段时间。

这个时间就称作 RTT（往返时间）。当客户端需要连续发送大量请求的时候它对性能的影响就变得显而易见了（如在同一个列表中添加许多元素，或者使用许多字段来填充数据库）。如过 RTT 为 250 毫秒，即使服务器每秒能处理 10 万个请求，但实际上我们却每秒最多处理 4 个请求。

如果是环回接口，RTT 非常短， 但如果你需要连续执行大量的写操作，相对来说环回接口也显得有点慢了。但是非常幸运的是有一种方法来改善这种情况。

#### Redis Pipelining[https://redis.io/topics/pipelining]