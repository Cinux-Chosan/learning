- 删除一个字符： x
- 删除一行： dd
- 合并两行： J(大写)
- 撤销上一次操作： u
      备注: 如 果 你 按 下"u"两 次 结 果 是 两 次 找 回 了 同
      样 的 字 符, 那 说 明 你 的Vim配 置 成Vi兼 容 模 式 了.
      在|not-compatible|可以找到这一问题的对策. 这个例子
      假设你的Vim使用的是Vim的方法. 如果你更喜欢老的Vi编
      辑器的做法, 你就要留心两者在这方面的细微差别.
- 重做 `CTRL + R`，与撤销相反，即撤销的撤销。
- 撤销对一行的全部操作： U

----

- 当前光标后追加： a
- 当前行下另起一行： o
- 当前行上另起一行： O

## 命令计数

      假设你要向上移动9行. 这可以用"kkkkkkkkk"或"9k"来完成. 事实
      上, 很多命令都可以接受一个数字作为重复执行同一命令的次数. 比如
      刚才的例子, 要在行尾追加三个感叹号, 当时用的命令是"a!!!<Esc>".
      另一个办法是用"3a!<Esc>"命令. 3说明该命令将被重复执行3次. 同
      样, 删除3个字符可以用"3x". 指定的数字要紧挨在它所要修饰的命令前
      面.

## 退出： ZZ

      要退出Vim, 用命令"ZZ".
      该命令保存当前文件并退出Vim.
      备注: Vim不会象其它的编辑器那样, 自动为被编辑的文
      件生成一个备份. 如果你用"ZZ", Vim就会提交你对该文
      件所做出的修改. 并且无法撤消. 当然你也可以配置你
      的Vim让它也可以自动生成一个备份文件. 请参考|07.4|.

- 放弃修改并离开： `:q!`
- 放弃修改并重新载入文件原始内容： `:e!`
- 帮助文档： `:help`，或者 `F1`键，查看具体命令的帮助信息：`:help {subject}`，如 `:help CTRL-A`。要查找其它模式下的帮助, 使用一个模式前辍. 如果你想要看的是Insert模式下某个命令的帮助, 使用"i "前辍，如：`:help i_CTRL-H`，查看参数文档，使用 `-`前缀，如`:help -t`。特殊键用尖括号+描述性名字表示，如`:help i_<Up>`，如果看到了错误信息不明究竟，可以将错误 ID 传给命令，如 `:help E37`。

----

- 光标向后移动一个英文单词(在首字符)： w
- 光标向前移动一个英文单词(在首字符)： b (backward)
- 光标向后移动一个英文单词(在末尾字符)： e (end of word)
- 光标向前移动一个英文单词(在首字符)： ge

- 移动到行尾： $ (可以使用计数，2$移动到下一行行尾)
- 移动到当前行的第一个非空白字符： ^
- 移动到当前行首： 0 (数字0)

## 移动到指定字符

---

- 移动到指定字符上： f{字符}， f 即 find，fx 即find x，可以使用计数，`F` 与之反向
- 移动到指定字符前一个字符： t{字符}，t 即 to，`T` 与之反向

这四个命令都可以使用 `;` 来重复，也可以使用 `,` 来重复，但是方向与原命令相反

---

## 匹配括号的移动

- 移动到与当前括号的另一半： %

## 移动到指定行

- 移动到指定行： {行号}G，G 即 Go，如果没有指定行号，则会移动到最后一行
- 移动到第一行： gg
- 移动到文件的某个范围：{百分数}%，如 50% 会移动到文件中间。
- 移动到当前屏幕内容的某个范围： H(home)、M(middle)、L(last)

## 当前位置

- `CTRL-G`：显示正在编辑的文件名，行列号，总行数，所在文件百分比等
- `:set number`，可以使用 `:set nonumber` 关闭
- `:set ruler`：在窗口右下角显示当前光标位置

## 滚动屏幕

- `CTRL-F`：向前滚动一整屏
- `CTRL-B`：向后滚动一整屏
- `CTRL-U`：文本向下滚动半屏
- `CTRL-D`：将窗口向下移动半屏，相当于文字向上滚动了半屏
- `CTRL-E`：向上滚动一行，E 即 Extra
- `CTRL-Y`：向下滚动一行，Windows 上可能该命令映射为重做
- 将当前行置于屏幕中央： `zz`（当前行为最后一行的时候，方便查看）
- 将当前行置于屏幕上方： `zt`
- 将当前行置于屏幕下方： `zb`

## 搜索

- 向后搜索字符串： `/{字符串}`
  - 下一个： `n`，可以接受计数
  - 上一个： `N`

```
    备注: 字符.*[]^%/?~$ 有特殊意义, 如果你要找的东西
    包括这些内容, 要在这些字符前面放置一个反斜杠. 见下
    文.
```

- 向前搜索字符串： `?{字符串}`
- 忽略大小写： `:set ignorecase`
- 匹配大小写： `:set noignorecase`

## 历史命令记录

输入命令的标记，如 `/` 、`?` 或者 `:`，然后按上下箭头键，会在历史纪录中切换。

如果输入一部分，则会匹配一部分，如执行过命令 `:set number`、`:set nonumber`，则输入 `:set` 然后按上下键会在使用 `:set` 的命令中循环。

## 搜索特定单词

- 向下搜索当前单词： `*`，接受计数
- 向上搜索当前单词： `#`

默认情况下， `/` 来搜索字符串，会搜索出一些出现在其它字符串中的子字符串，但是如果加上 `\>` 即可，它匹配到单词的末尾，相反的 `\<` 匹配到开始处。`*` 和 `#` 会默认使用这个标记，可以使用 `g*` 或者 `g#` 来匹配包含在其它字符串中的字符。

## 高亮搜索结果

- `:set hlsearch`： 开启搜索高亮，hlsearch 即 high light search
- `:set nohlsearch`： 关闭搜索高亮
- `:set incsearch`： 在键入目标字符串的过程中Vim就同时开始了搜索工作
- `:set nowrapscan`： 使搜索过程在文件结束时就停止. 或者, 在你反向搜索时在到达文件开头时停止. 'wrapscan'选项的默认值是开, 这样搜索在达到文件的头尾时都会绕向另一个方向继续进行.

## 设置初始参数

- `:scriptnames`： 查看插件和 vim 的配置文件路径
- `:edit ~/.vimrc`： 编辑 vim 配置文件
- `Go:set hlsearch`： G 跳到文件尾，o 另起一行，写入命令 `:set hlsearch`，即在文件后面添加了一行，内容为 `:set hlsearch`
- `ZZ` 保存。

下次启动 vim 时， `hlsearch` 选项就是打开的了。

## 简单搜索模式

- `^`：匹配行首
- `$`：匹配行尾
- `.`：匹配任意字符

## 使用标记

每次使用 `G` 跳转的时候， vim 中会在起跳的位置设置一个标记。命令 \`\` (两个开引号) 可以使你跳回到出发点。再次使用 \`\` 还是回到上一次起跳点，因为 \`\` 本身也是跳转命令。一般来说，只要将光标定位到非本行，就是跳转。但是 `j` `k` 命令不会被视为跳转。

- `CTRL-O`： 跳转到前一次的光标位置。 O 即 older
- `CTRL-I`： 回到后来停置光
标的更新的位置，即与 `CTRL-O`相反。
- `:jumps`：列出曾经跳转过的位置列表，最后一个位置以 `>` 标记。

### 带名称的标记

- `m{a-z}`： 将当前行标记为 a-z 之一的字符，看不出来， Vim 内部记录了该标记。
- \`a： 跳转到标记处。
- `:marks`：罗列一些特别标记的列表。

---

# 移动文本、作出更改(第四章)

## 操作符命令和位移

- `d` : 删除，与位移操作联合使用
  - `d4w`（示例）：该组合命令删除当前光标之后 4 个单词，

- `c` ：与 d 类似，但是它在执行完成过后会进入 Insert 模式。如 `cw` 删除一个单词，并进入 Insert 模式。
  - `c2wbe<Esc>`（示例）：该组合命令讲解如下
    - `c` ：修改操作符
    - `2w`：移动两个单词，删除它们并开始进入 Insert 模式
    - `be`：插入 be 两个字符
    - `<Esc>`：回到 Normal 模式

## 快捷命令

有一些操作符+位移命令使用率是如此之高以至于它们以一个单独的
字符作为其快捷方式:

- x 代表dl(删除当前光标下的字符)
- X 代表dh(删除当前光标左边的字符)
- D 代表d$(删除到行尾的内容)
- C 代表c$(修改到行尾的内容)
- s 代表cl(修改一个字符)
- S 代表cc(修改一整行)

## 替换单个字符

- `r`：替换当前字符，也可以使用 `cl` 或者 `s`，但是 `r` 不再需要使用 `<Esc>` 回到 Normal 模式。
  - `5rx`（示例）：将5个字符替换为 x
  - `r<Enter>`：删除一个字符，替换为换行符，`4r<Enter>` 将4个字符替换为换行符。

## 重复改动

- `.`：重复上一次做出的改动。

      "."命令是Vim中一个简单而强大的命令. 它会重复上一次做出的改动. 例如, 假设你在编辑一个HTML文件, 想删除其中所有的<B>标签. 你把光标置于<B>的<字符上然后命令"df>". 然后到</B>的<上用"."命令做同样的事. "."命令会执行上一次所执行的更改命令( 此例中是"df>").要删除另一个标签, 同样把光标置于<字符上然后执行"."命令即可。

      "."命令会重复你做出的所有修改, 除了"u"命令CTRL-R和以冒号开头的命令。

例子: 你想把"four"改为"five". 它在你的文件里多次出现. 你可以用以下命令来做出修改:

- /four<Enter> ： 找到第一个字符串"four"
- cwfive<Esc> ：把它改为"five"
- n ：找到下一个字符串"four"
- . ：同样改为"five"
- n ：继续找下一个
- . ：做同样的修改

## Visual 模式

- `v` ：进入 Visual 模式，移动光标以覆盖想要操作的文本范围（使用 hjkl 替代箭头键）。
  - `velld`（示例）：
    - `v`：进入 Visual 模式
    - `e`：选择到单词末尾
    - `ll`：向后继续选中两个字符
    - `d`：删除选中内容

## 选择多行

- `V`：大写的 V，对行进行选中，使用左右命令无意义，使用 jk 来进行行选中。
  - `Vjj`：V 进入行选中的 Visual 模式， jj 向下移动两行，该命令选中 3 行。

第四章，visual 模式

---
